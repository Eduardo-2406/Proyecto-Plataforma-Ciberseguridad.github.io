import{r as s,R as e,G as v,H as p,E as g,I as h}from"./index-BS11OSAT.js";const w=()=>{const[a,o]=s.useState({email:"",password:"",displayName:"",role:"employee"}),[m,n]=s.useState(""),[i,c]=s.useState(""),[d,u]=s.useState(!1),t=l=>{const{name:r,value:N}=l.target;o(y=>({...y,[r]:N}))},E=async l=>{l.preventDefault();try{n(""),c(""),u(!0);const r=await v(p,a.email,a.password);await g(r.user,{displayName:a.displayName}),await h(r.user.uid,{email:a.email,displayName:a.displayName,role:a.role,createdAt:new Date().toISOString(),createdBy:p.currentUser.uid}),c("Usuario creado exitosamente"),o({email:"",password:"",displayName:"",role:"employee"})}catch(r){console.error("Error al crear usuario:",r),n("Error al crear el usuario. Verifica los datos e intenta nuevamente.")}u(!1)};return e.createElement("div",{className:"admin-container"},e.createElement("div",{className:"admin-card"},e.createElement("h2",null,"Crear Nuevo Usuario"),m&&e.createElement("div",{className:"error-message"},m),i&&e.createElement("div",{className:"success-message"},i),e.createElement("form",{onSubmit:E,className:"admin-form"},e.createElement("div",{className:"form-group"},e.createElement("label",{htmlFor:"displayName"},"Nombre completo"),e.createElement("input",{type:"text",id:"displayName",name:"displayName",value:a.displayName,onChange:t,required:!0})),e.createElement("div",{className:"form-group"},e.createElement("label",{htmlFor:"email"},"Correo electrónico corporativo"),e.createElement("input",{type:"email",id:"email",name:"email",value:a.email,onChange:t,required:!0})),e.createElement("div",{className:"form-group"},e.createElement("label",{htmlFor:"password"},"Contraseña temporal"),e.createElement("input",{type:"password",id:"password",name:"password",value:a.password,onChange:t,required:!0,minLength:"6"})),e.createElement("div",{className:"form-group"},e.createElement("label",{htmlFor:"role"},"Rol"),e.createElement("select",{id:"role",name:"role",value:a.role,onChange:t,required:!0},e.createElement("option",{value:"employee"},"Empleado"),e.createElement("option",{value:"admin"},"Administrador"))),e.createElement("button",{type:"submit",className:"admin-button",disabled:d},d?"Creando usuario...":"Crear Usuario"))))};export{w as default};
